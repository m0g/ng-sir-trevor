!function(){"use strict";angular.module("SirTrevor",[]).provider("SirTrevor",function(){this.$get=function(){return window.SirTrevor},angular.extend(this,window.SirTrevor)}).provider("SirTrevorOptions",function(){var r={blockTypes:["Text"],transform:{get:function(r){return{type:r.blockStorage.type,data:r.blockStorage.data}},set:function(r){return{type:r.type,data:r.data}}}};this.$get=function(){return r},this.$extend=function(t){angular.extend(r,t)},this.$set=function(t){r=t}}).directive("ngSirTrevor",["SirTrevor","SirTrevorOptions",function(r,t){var e={template:function(r){var t='<textarea class="sir-trevor" name="content"></textarea>';return r.parent("form").length||(t="<form>"+t+"</form>"),t},scope:{editor:"=stModel",params:"=stParams"},link:function(e,n){var o=angular.copy(t);angular.extend(o,e.params),o.el=$(n.find("textarea")),e.editor=new r.Editor(o),e.editor.get=function(){var r=[];return e.editor.blocks.sort(function(r,t){return r.$el.index()-t.$el.index()}),angular.forEach(e.editor.blocks,function(t){e.editor.saveBlockStateToStore(t),r.push(o.transform.get(t))}),r},e.editor.set=function(r){var t;angular.forEach(r,function(r){t=o.transform.set(r),e.editor.createBlock(t.type,t.data)})},e.editor.clear=function(){angular.forEach(e.editor.blocks,function(r){r.remove()}),e.editor.dataStore.data=[]}}};return e}])}();