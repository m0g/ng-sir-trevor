!function(){"use strict";angular.module("SirTrevor",[]).provider("SirTrevor",function(){this.$get=function(){return window.SirTrevor},this.Blocks=window.SirTrevor.Blocks,this.Block=window.SirTrevor.Block,this.Formatters=window.SirTrevor.Formatters,this.Formatter=window.SirTrevor.Formatter,this.Locales=window.SirTrevor.Locales,this.DEFAULTS=window.SirTrevor.DEFAULTS}).provider("SirTrevorOptions",function(){var r={blockTypes:["Text"],transform:{get:function(r){return{type:r.blockStorage.type,data:r.blockStorage.data}},set:function(r){return{type:r.type,data:r.data}}}};this.$get=function(){return r},this.$extend=function(t){_.extend(r,t)},this.$set=function(t){r=t}}).directive("ngSirTrevor",["SirTrevor","SirTrevorOptions",function(r,t){var e={template:function(r){var t='<textarea class="sir-trevor" name="content"></textarea>';return r.parent("form").length||(t="<form>"+t+"</form>"),t},scope:{editor:"=stModel",params:"=stParams"},link:function(e,o){var i=_.clone(t);_.extend(i,e.params),i.el=o.find("textarea"),e.editor=new r.Editor(i),e.editor.get=function(){var r=[];return _.each(e.editor.blocks,function(t){e.editor.saveBlockStateToStore(t),r.push(i.transform.get(t))}),r},e.editor.set=function(r){var t;_.each(r,function(r){t=i.transform.set(r),e.editor.createBlock(t.type,t.data)})},e.editor.clear=function(){e.editor.dataStore.data=[]}}};return e}])}();